<!--
Copyright 2017 Google Inc.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
-->
<!doctype html>
<html ⚡>
<head>
  <meta charset="utf-8">
  <title>AMPPAREL</title>
  <link rel="canonical" href="amps.html">
  <meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1">
  <style amp-boilerplate>body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style><noscript><style amp-boilerplate>body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style></noscript>
  <script async src="https://cdn.ampproject.org/v0.js"></script>

  <script async custom-element="amp-bind" src="https://cdn.ampproject.org/v0/amp-bind-0.1.js"></script>
  <script async custom-element="amp-carousel" src="https://cdn.ampproject.org/v0/amp-carousel-0.1.js"></script>
  <script async custom-element="amp-form" src="https://cdn.ampproject.org/v0/amp-form-0.1.js"></script>
  <script async custom-element="amp-selector" src="https://cdn.ampproject.org/v0/amp-selector-0.1.js"></script>
  <script async custom-template="amp-mustache" src="https://cdn.ampproject.org/v0/amp-mustache-0.1.js"></script>
  <script async custom-element="amp-list" src="https://cdn.ampproject.org/v0/amp-list-0.1.js"></script>
  <script async custom-element="amp-access" src="https://cdn.ampproject.org/v0/amp-access-0.1.js"></script>
  <script async custom-element="amp-analytics" src="https://cdn.ampproject.org/v0/amp-analytics-0.1.js"></script>
  <script async custom-element="amp-animation" src="https://cdn.ampproject.org/v0/amp-animation-0.1.js"></script>
  <script async custom-element="amp-position-observer" src="https://cdn.ampproject.org/v0/amp-position-observer-0.1.js"></script>
  <script async custom-element="amp-date-picker" src="https://cdn.ampproject.org/v0/amp-date-picker-0.1.js"></script>
  <meta name="amp-experiments-opt-in" content="amp-date-picker">
  <style amp-custom>
    /*** uncss> filename: https://code.getmdl.io/1.3.0/material.indigo-pink.min.css ***/
    /**
     * material-design-lite - Material Design Components in CSS, JS and HTML
     * @version v1.3.0
     * @license Apache-2.0
     * @copyright 2015 Google, Inc.
     * @link https://github.com/google/material-design-lite
     */
    html{color:rgba(0,0,0,.87)}::-moz-selection{background:#b3d4fc;text-shadow:none}::selection{background:#b3d4fc;text-shadow:none}.hidden{display:none}@media print{*,*:before,*:after{background:transparent;color:#000;box-shadow:none}tr{page-break-inside:avoid}p{orphans:3;widows:3}}.mdl-button{-webkit-tap-highlight-color:transparent;-webkit-tap-highlight-color:rgba(255,255,255,0)}html{width:100%;height:100%;-ms-touch-action:manipulation;touch-action:manipulation}body{width:100%;min-height:100%}html,body{font-family:"Helvetica","Arial",sans-serif;font-size:14px;font-weight:400;line-height:20px}h5,h6,p{padding:0}h5{font-size:20px;font-weight:500;line-height:1;letter-spacing:.02em}h5,h6{font-family:"Roboto","Helvetica","Arial",sans-serif;margin:24px 0 16px}h6{font-size:16px;letter-spacing:.04em}h6,p{font-weight:400;line-height:24px}p{font-size:14px;letter-spacing:0;margin:0 0 16px}.mdl-color-text--red{color:#f44336 }.mdl-color-text--blue{color:#2196f3 }.mdl-color-text--grey{color:#9e9e9e }.mdl-color--black{background-color:#000 }.mdl-color-text--white{color:#fff }.mdl-button{background:0 0;border:none;border-radius:2px;color:#000;position:relative;height:36px;margin:0;min-width:64px;padding:0 16px;display:inline-block;font-family:"Roboto","Helvetica","Arial",sans-serif;font-size:14px;font-weight:500;text-transform:uppercase;letter-spacing:0;overflow:hidden;will-change:box-shadow;transition:box-shadow .2s cubic-bezier(.4,0,1,1),background-color .2s cubic-bezier(.4,0,.2,1),color .2s cubic-bezier(.4,0,.2,1);outline:none;cursor:pointer;text-decoration:none;text-align:center;line-height:36px;vertical-align:middle}.mdl-button::-moz-focus-inner{border:0}.mdl-button:hover{background-color:rgba(158,158,158,.2)}.mdl-button:focus:not(:active){background-color:rgba(0,0,0,.12)}.mdl-button:active{background-color:rgba(158,158,158,.4)}.mdl-button.mdl-button--colored:focus:not(:active){background-color:rgba(0,0,0,.12)}.mdl-button--raised{background:rgba(158,158,158,.2);box-shadow:0 2px 2px 0 rgba(0,0,0,.14),0 3px 1px -2px rgba(0,0,0,.2),0 1px 5px 0 rgba(0,0,0,.12)}.mdl-button--raised:active{box-shadow:0 4px 5px 0 rgba(0,0,0,.14),0 1px 10px 0 rgba(0,0,0,.12),0 2px 4px -1px rgba(0,0,0,.2);background-color:rgba(158,158,158,.4)}.mdl-button--raised:focus:not(:active){box-shadow:0 0 8px rgba(0,0,0,.18),0 8px 16px rgba(0,0,0,.36);background-color:rgba(158,158,158,.4)}.mdl-button--raised.mdl-button--colored:focus:not(:active){background-color:rgb(63,81,181)}.mdl-button--fab:focus:not(:active){box-shadow:0 0 8px rgba(0,0,0,.18),0 8px 16px rgba(0,0,0,.36);background-color:rgba(158,158,158,.4)}.mdl-button--fab.mdl-button--colored:focus:not(:active){background-color:rgb(255,64,129)}.mdl-button--accent.mdl-button--accent{color:rgb(255,64,129)}.mdl-button--accent.mdl-button--accent.mdl-button--raised{color:rgb(255,255,255);background-color:rgb(255,64,129)}.mdl-button[disabled][disabled]{color:rgba(0,0,0,.26);cursor:default;background-color:transparent}.mdl-button--raised[disabled][disabled]{background-color:rgba(0,0,0,.12);color:rgba(0,0,0,.26);box-shadow:none}@supports (-webkit-appearance:none){}@supports (pointer-events:auto){}.mdl-slider.is-upgraded:focus:not(:active)::-webkit-slider-thumb{box-shadow:0 0 0 10px rgba(63,81,181,.26)}.mdl-slider.is-upgraded:focus:not(:active)::-moz-range-thumb{box-shadow:0 0 0 10px rgba(63,81,181,.26)}.mdl-slider.is-upgraded:focus:not(:active)::-ms-thumb{background:radial-gradient(circle closest-side,rgb(63,81,181)0%,rgb(63,81,181)37.5%,rgba(63,81,181,.26)37.5%,rgba(63,81,181,.26)100%);transform:scale(1)}.mdl-slider.is-upgraded.is-lowest-value:focus:not(:active)::-webkit-slider-thumb{box-shadow:0 0 0 10px rgba(0,0,0,.12);background:rgba(0,0,0,.12)}.mdl-slider.is-upgraded.is-lowest-value:focus:not(:active)::-moz-range-thumb{box-shadow:0 0 0 10px rgba(0,0,0,.12);background:rgba(0,0,0,.12)}.mdl-slider.is-upgraded.is-lowest-value:focus:not(:active)::-ms-thumb{background:radial-gradient(circle closest-side,rgba(0,0,0,.12)0%,rgba(0,0,0,.12)25%,rgba(0,0,0,.26)25%,rgba(0,0,0,.26)37.5%,rgba(0,0,0,.12)37.5%,rgba(0,0,0,.12)100%);transform:scale(1)}body{margin:0}

    /* custom css */
    #header  {
     position: fixed;
     top: 0;
     width: 100%;
     z-index: 1;
    }
    .header-menu {
     height: 24px;
     padding: 16px;
     margin: 0;
     text-align: center;
     text-transform: uppercase;
     letter-spacing: 2px;
    }
    #header-title {
     position: absolute;
     top: 56px;
     left: 0;
     width: 100%;
     z-index: 1;
    }
    .header-advertisement {
     background: white;
    }
    #container {
     max-width: 500px;
     padding: 32px 16px 64px 16px;
     margin: auto;
     margin-top: 56px;
    }
    .menu {
      float: left;
    }
    .search {
      float: right;
      margin-right: 28px;
    }
    .title {
      text-align: center;
    }
    .rating {
      margin-bottom: 0;
      text-align: center;
    }
    #carousel {
      margin: 16px;
    }
    .dots {
      text-align: center;
    }
    .dots span {
      display: inline-block;
      background: #ccc;
      border-radius: 6px;
      width: 12px;
      height: 12px;
      margin: 4px;
    }
    .dots span.current {
      background: #555;
    }
    .options {
      margin: 16px 0;
    }
    .options h6 {
      text-transform: uppercase;
      margin: 0 0 4px 0;
    }
    .colors table {
      margin: 0 -8px;
    }
    .colors amp-img {
      border: solid 2px white;
      display: block;
      margin: auto;
    }
    .colors amp-img[selected] {
      outline: solid 2px red;
    }
    .sizes div {
      border: solid 1px black;
      width: 40px;
      height: 40px;
      line-height: 40px;
      font-weight: 800;
      text-align: center;
    }
    .sizes div[selected] {
      background-color: gray;
      color: white;
      outline: none;
    }
    .unavailable::before {
      content: '';
      position: absolute;
      border-top: 1px solid black;
      margin-left: 1px;
      width: 57px;
      transform: rotate(45deg);
      transform-origin: 0% 0%;
    }
    .quantity select {
      font-size: 16px;
      border: solid 1px gray;
      padding: 8px;
    }
    table {
      width: 100%;
    }
    .hidden {
      display: none;
    }
    .heart-loading,
    .heart-loading[placeholder] {
     background: url('data:image/svg+xml;utf8,<svg fill="%23cccccc" height="48" viewBox="0 0 24 24" width="48" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M16.5 3c-1.74 0-3.41.81-4.5 2.09C10.91 3.81 9.24 3 7.5 3 4.42 3 2 5.42 2 8.5c0 3.78 3.4 6.86 8.55 11.54L12 21.35l1.45-1.32C18.6 15.36 22 12.28 22 8.5 22 5.42 19.58 3 16.5 3zm-4.4 15.55l-.1.1-.1-.1C7.14 14.24 4 11.39 4 8.5 4 6.5 5.5 5 7.5 5c1.54 0 3.04.99 3.57 2.36h1.87C13.46 5.99 14.96 5 16.5 5c2 0 3.5 1.5 3.5 3.5 0 2.89-3.14 5.74-7.9 10.05z"/></svg>');
    }
    input[type=submit].heart-border, input[type=submit].heart-fill, input[type=submit].heart-loading {
          width: 48px;
          height: 48px;
          cursor: pointer;
          border: none;
          margin: 4px;
          transition: background 300ms ease-in-out;
    }
    .heart-fill {
     background: url('data:image/svg+xml;utf8,<svg fill="%23000000" height="48" viewBox="0 0 24 24" width="48" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/></svg>');
    }
    .heart-border {
     background: url('data:image/svg+xml;utf8,<svg fill="%23000000" height="48" viewBox="0 0 24 24" width="48" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M16.5 3c-1.74 0-3.41.81-4.5 2.09C10.91 3.81 9.24 3 7.5 3 4.42 3 2 5.42 2 8.5c0 3.78 3.4 6.86 8.55 11.54L12 21.35l1.45-1.32C18.6 15.36 22 12.28 22 8.5 22 5.42 19.58 3 16.5 3zm-4.4 15.55l-.1.1-.1-.1C7.14 14.24 4 11.39 4 8.5 4 6.5 5.5 5 7.5 5c1.54 0 3.04.99 3.57 2.36h1.87C13.46 5.99 14.96 5 16.5 5c2 0 3.5 1.5 3.5 3.5 0 2.89-3.14 5.74-7.9 10.05z"/></svg>');
    }
    #favorite-failed-message {
      display: flex;
      justify-content: space-between;
      position: fixed;
      bottom: 0;
      left: 0;
      right: 0;
      margin: 0 auto;
      width: 100%;
      max-width: 450px;
      background: #323232;
      color: white;
      padding: 1rem 1.5rem;
    }
    #favorite-failed-message div {
      color: #64dd17;
      margin: 0 1rem;
      cursor: pointer;
    }
    .deals-container {
     display: flex
    }
    .deal-name {
     text-align: center;
     font-family: "Roboto","Helvetica","Arial",sans-serif;
    }
    a[href] {
     text-decoration: none;
    }
    .location {
     padding: 16px 0 0 16px;
    }
    .scrollToTop {
     color: #fafafa;
     font-size: 1.4em;
     box-shadow: 0 1px 1.5px 0 rgba(0,0,0,.12), 0 1px 1px 0 rgba(0,0,0,.24);
     width: 50px;
     height: 50px;
     border-radius: 100px;
     border: none;
     outline: none;
     z-index: 9999;
     bottom: 10px;
     right: 10px;
     position: fixed;
     opacity: 0;
     visibility: hidden;
    }
    .tooltip {
     visibility: hidden;
     transform: translateY(0);
     position: fixed;
     z-index: 2;
     width: 100%;
     top: 100%;
     height: 50px;
     padding-bottom: 40px;
     color: #fff;
     background-color: #20bf7c;
     text-align: center;
     line-height: 50px;
     font-size: 1.25em;
     font-family: sans-serif;
     left: 0;
    }
    .tooltip-show {
     visibility: visible;
     animation: slide-in-out 4s linear;
    }
    .CalendarDay__highlighted_calendar .CalendarDay_button:before, .highlight-square {
     content: '';
     background-color: #20bf7c;
     width: 5px;
     height: 5px;
     position: absolute;
     bottom: 5px;
     margin: auto;
     left: 0;
     right: 0;
    }
    @keyframes slide-in-out {
     0% { transform: translateY(0) }
     10% { transform: translateY(-100%) }
     90% { transform: translateY(-100%) }
     100% { transform: translateY(0) }
    }
    input[type="submit"].search {
   background-color: #2196f3;
   background-image:
   -webkit-image-set(url(./img/ic_search_white_24dp_1x.png) 1x,
   url(./img/ic_search_white_24dp_2x.png) 2x);
   border: 0 none;
   -webkit-appearance: none;
   border-radius: 0;
   -moz-border-top-right-radius: 4px;
   -moz-border-bottom-right-radius: 4px;
   -webkit-border-top-right-radius: 4px;
   -webkit-border-bottom-right-radius: 4px;
   border-top-right-radius: 4px;
   border-bottom-right-radius: 4px;
   padding: 4px;
   float: right;
   height: 32px;
   background-position: center;
   background-repeat: no-repeat;
   width: 36px;
   position: absolute;
   top: 10px;
   right: 37px;
  }
  input[type="text"].autosuggest-input {
   padding: 0 8px;
   width: 20vw;
   height: 32px;
   font-size: 100%;
   -moz-box-sizing: border-box;
   -webkit-box-sizing: border-box;
   box-sizing: border-box;
   -webkit-appearance: none;
   border: solid 0px #ccc;
   border-radius: 0;
   -moz-border-top-left-radius: 4px;
   -moz-border-bottom-left-radius: 4px;
   -webkit-border-top-left-radius: 4px;
   -webkit-border-bottom-left-radius: 4px;
   border-top-left-radius: 4px;
   border-bottom-left-radius: 4px;
   position: absolute;
   top: 10px;
   right: 73px;
  }
  .autosuggest-box {
   position: absolute;
   width: 100%;
   background-color: #fafafa;
   box-shadow: 0px 2px 6px rgba(0,0,0,.3);
   color:black;
  }
  .autosuggest-container {
   position: relative;
  }
  .hidden {
   display: none;
  }
  .suggest {
   width: 80vw;
   max-width: 700px;
   -webkit-box-shadow: 0 0 5px rgba(109,207,246,.5);
   -moz-box-shadow: 0 0 5px rgba(109,207,246,.5);
   box-shadow: 0 0 5px rgba(109,207,246,.5);
   position: absolute;
   position: absolute;
   right: 73px;
   z-index: 1;
   top: 42px;
   text-align: left;
   text-transform: none;
  }
  .select-option {
   padding: 4px;
   outline: none;
  }
  #search-form {
   float: right;
  }
  .site-name {
   position: absolute;
   left: 36%;
  }
  </style>
  <script id="amp-access" type="application/json">
   {
   "authorization":
  "/authorization?rid=READER_ID&url=CANONICAL_URL&ref=DOCUMENT_REFERRER&_=RANDOM",
   "noPingback": "true",
   "login": {
    "sign-in": "/login?rid=READER_ID",
    "sign-out": "/logout?rid=READER_ID"
    },
    "authorizationFallbackResponse": {
     "error": true,
     "loggedIn": false
    }
   }
  </script>

</head>

<body>
  <!-- Available shirts. Maps unique string identifier to color and image URL string. -->
  <amp-state id="shirts" [src]="'/shirts/sizesAndPrices?sku=' + selected.sku">
    <script type="application/json">
      {
        "1001": {
          "color": "black",
          "image": "./shirts/black.jpg",
          "sizes": {
            "XS": 8.99,
            "S": 9.99
          }
        },
        "1002": {
          "color": "blue",
          "image": "./shirts/blue.jpg"
        },
        "1010": {
          "color": "brown",
          "image": "./shirts/brown.jpg"
        },
        "1014": {
          "color": "dark green",
          "image": "./shirts/dark-green.jpg"
        },
        "1015": {
          "color": "gray",
          "image": "./shirts/gray.jpg"
        },
        "1016": {
          "color": "light gray",
          "image": "./shirts/light-gray.jpg"
        },
        "1021": {
          "color": "navy",
          "image": "./shirts/navy.jpg"
        },
        "1030": {
          "color": "wine",
          "image": "./shirts/wine.jpg"
        }
      }
    </script>
  </amp-state>

  <amp-state id="selected">
    <script type="application/json">
      {
        "slide": 0,
        "sku": "1001"
      }
    </script>
  </amp-state>

  <amp-animation id="shrinkAnim" layout="nodisplay">
   <script type="application/json">
    {
     "duration": "200ms",
     "fill": "both",
     "iterations": "1",
     "direction": "alternate",
     "animations": [
      {
       "selector": "#header",
       "keyframes": [{ "transform": "translateY(-112px)" }]
      },
      {
       "selector": ".header-menu",
       "keyframes": [{ "transform": "translateY(56px)" }]
      }
     ]
    }
   </script>
  </amp-animation>
  <amp-animation id="expandAnim" layout="nodisplay">
   <script type="application/json">
    {
     "duration": "50ms",
     "fill": "both",
     "iterations": "1",
     "direction": "alternate",
     "animations": [
      {
       "selector": "#header",
       "keyframes": [{ "transform": "translateY(0)"}]
      },
      {
       "selector": ".header-menu",
       "keyframes": [{ "transform": "translateY(0)" }]
      }
     ]
    }
   </script>
  </amp-animation>
  <amp-animation id="showAnim" layout="nodisplay">
   <script type="application/json">
    {
     "duration": "200ms",
     "fill": "both",
     "iterations": "1",
     "direction": "alternate",
     "animations": [
      {
       "selector": "#scrollToTopButton",
       "keyframes": [{ "opacity": "1", "visibility": "visible" }]
      }
     ]
    }
   </script>
  </amp-animation>
  <amp-animation id="hideAnim" layout="nodisplay">
   <script type="application/json">
    {
     "duration": "200ms",
     "fill": "both",
     "iterations": "1",
     "direction": "alternate",
     "animations": [
      {
       "selector": "#scrollToTopButton",
       "keyframes": [{ "opacity": "0", "visibility": "hidden" }]
      }
     ]
    }
   </script>
  </amp-animation>
  <div id="marker">
   <amp-position-observer on="enter:hideAnim.start; exit:showAnim.start" layout="nodisplay">
   </amp-position-observer>
  </div>

  <header id="header" >
   <div class="header-advertisement header-menu">
    <a href = ".">This is an advertisement</a>
   </div>
   <div id="header-title" class="mdl-color--black mdl-color-text--white header-menu">
    <amp-img class="menu" src="./img/ic_menu_white_24dp_1x.png" width=24 height=24></amp-img>
    <div class="site-name">
     <span class="mdl-color-text--blue">AMP</span>PAREL</div>
     <form method="post" action-xhr="" target="_blank" id="search-form"
    on="submit: autosuggest-list.hide; submit-success:autosuggest-list.hide,
    AMP.setState({
     products: {
      searchProduct: event.response.name
      }
    });
    submit-error: autosuggest-list.hide">
      <input name="product" type="text" class="autosuggest-input" on="input-debounced: AMP.setState({
     query: event.value, showDropdown: event.value,
    }), autosuggest-list.show;
    Tap: AMP.setState({
     query: query == null ? '' : query, showDropdown: 'true',
    }), autosuggest-list.show"
    [value]="query || ''"value="" required autocomplete="off"/>
       <div class="suggest">
        <div class="autosuggest-container hidden"
    [class]="(showDropdown && query) ?
    'autosuggest-container' :
    'autosuggest-container hidden'">
     <amp-list class="autosuggest-box" layout="fixed-height" height="120" items="." src="/autosuggest/search_product" [src]="query ? autosuggest.endpoint + query : autosuggest.emptyAndInitialTemplateJson" id="autosuggest-list">
      <template type="amp-mustache">
       <amp-selector id="autosuggest-selector" keyboard-select-mode="focus" layout="container"
       on="select: AMP.setState({query: event.targetOption,
        showDropdown: false,searchProduct: event.targetOption}),autosuggest-list.hide" >
               <div class="select-option no-outline" role="option" tabindex="0" on="tap:autosuggest-list.hide" option="{{name}}">{{name}}
               </div>
            </amp-selector>
           </template>
          </amp-list>
         </div>
        </div>
       </form>
       <input class="search" type="submit" value="">
   </div>
  </header>
  <div id="top-page" class="header-menu"></div>
  <amp-state id="autosuggest">
   <script type="application/json">
    {
     "endpoint": "/autosuggest/search_list?q=",
     "emptyAndInitialTemplateJson": [{
      "query": "",
      "results": []
     }]
     }
   </script>
  </amp-state>
  <div id="container">
    <section amp-access="loggedIn">
     <template amp-access-template type="amp-mustache">
       <p> Hello {{name}}! Check out these deals we found for you! </p>
       <div class="deals-container">
        {{#deals}}
         <a href="{{link}}">
          <amp-img src="{{img}}" width=100 height=100></amp-img>
          <p class="deal-name mdl-color-text--black">{{name}}</p>
         </a>
        {{/deals}}
       </div>
     </template>
    <a class="mdl-button mdl-js-button mdl-js-ripple-effect" href="/logout">Logout</a>
    </section>
    <section amp-access="NOT loggedIn" amp-access-hide>
     <span> Log-in or sign up to see deals </span>
     <button class="mdl-button mdl-js-button mdl-js-ripple-effect" on="tap:amp-access.login-sign-in">Login</a>
    </section>

    <h5 class="title">MEN'S COTTON CREW NECK<br>LONG SLEEVE T-SHIRT</h5>
    <h6 class="rating"><span class="mdl-color-text--red">★★★★☆</span> <span class="mdl-color-text--grey">(14)</span></h6>

    <amp-carousel type="slides" layout="fixed-height" height=250 id="carousel"
        on="slideChange:AMP.setState({selected: {slide: event.index}})">
      <!-- Update the `src` of each <amp-img> when the `selected.sku` variable changes. -->
      <amp-img width=200 height=250 src="./shirts/black.jpg" [src]="shirts[selected.sku].image"></amp-img>
      <amp-img width=300 height=375 src="./shirts/black.jpg" [src]="shirts[selected.sku].image"></amp-img>
      <amp-img width=400 height=500 src="./shirts/black.jpg" [src]="shirts[selected.sku].image"></amp-img>
    </amp-carousel>

    <!-- The <span> element corresponding to the current displayed slide
         will have the 'current' CSS class. -->
    <p class="dots">
     <span [class]="selected.slide == 0 ? 'current' : ''" class="current"></span>
     <span [class]="selected.slide == 1 ? 'current' : ''"></span>
     <span [class]="selected.slide == 2 ? 'current' : ''"></span>
    </p>

    <amp-state id="favorite" credentials="include" src="/favorite">
    </amp-state>
    <form method="post" action-xhr="/favorite" target="_top"
    on="submit:AMP.setState({favorite:!favorite}),favorite-failed-message.hide;
    submit-error:AMP.setState({favorite:!favorite}),favorite-failed-message.show">
     <amp-list width="56" height="56" credentials="include" items="." single-item src="/favorite">
      <template type="amp-mustache">
       <input type="submit" [class]="favorite ? 'heart-fill' : 'heart-border'" value="" aria-label="Favorite Toggle">
      </template>
      <div placeholder>
       <input type="submit" disabled class="heart-loading" value="" aria-label="favorite placeholder">
      </div>
     </amp-list>
    </form>
    <div id="favorite-failed-message" hidden>Error: Could not favorite.
      <div on="tap:favorite-failed-message.hide" tabindex="0" role="button">CLOSE</div>
    </div>

    <div id="menu-marker">
     <amp-position-observer on="enter:shrinkAnim.start; exit:expandAnim.start;" layout="nodisplay">
     </amp-position-observer>
    </div>

    <form method="post" action-xhr="/shirts/addToCart" target="_top">
      <div class="options colors">
        <h6>COLORS</h6>

        <!--
          Tip: <amp-selector> functions like an <input> element when nested in a <form>.
          @see https://www.ampproject.org/docs/reference/components/amp-form#inputs-and-fields
        -->
        <amp-selector name="color" on="select:AMP.setState({selected: {sku: event.targetOption}})">
          <table>
            <tr>
              <td><amp-img width=40 height=40 option="1001" src="./shirts/swatch/black.jpg" selected></amp-img></td>
              <td><amp-img width=40 height=40 option="1002" src="./shirts/swatch/blue.jpg"></amp-img></td>
              <td><amp-img width=40 height=40 option="1010" src="./shirts/swatch/brown.jpg"></amp-img></td>
              <td><amp-img width=40 height=40 option="1014" src="./shirts/swatch/dark-green.jpg"></amp-img></td>
            </tr>
            <tr>
              <td><amp-img width=40 height=40 option="1015" src="./shirts/swatch/gray.jpg"></amp-img></td>
              <td><amp-img width=40 height=40 option="1016" src="./shirts/swatch/light-gray.jpg"></amp-img></td>
              <td><amp-img width=40 height=40 option="1021" src="./shirts/swatch/navy.jpg"></amp-img></td>
              <td><amp-img width=40 height=40 option="1030" src="./shirts/swatch/wine.jpg"></amp-img></td>
            </tr>
          </table>
        </amp-selector>
      </div>

      <div class="options price">
        <h6>PRICE :
          <!-- Display the price of the selected shirt in the selected size if available.
               Otherwise, display the placeholder text '---'. -->
          <span [text]="shirts[selected.sku].sizes[selectedSize] || '---'">---</span>
        </h6>
      </div>
      <amp-list src="/countries.json" width="auto" height="40" layout="fixed-height">
       <template type="amp-mustache">
        <label for="country">Choose country for shipping availability:</label>
        <select name="country" id="country" on="change:AMP.setState({shippingSrc: '/shipping?location=' + event.value})">
         {{#countries}}
          <option value="{{name}}"> {{name}} </option>
         {{/countries}}
        </select>
       </template>
      </amp-list>
      <amp-list src="/shipping" [src]="shippingSrc" single-item items="." height="25" layout="fixed-height">
       <template type="amp-mustache">
        <p> Shipping next day {{next-day-availability}}  </p>
       </template>
      </amp-list>

      <div class="options sizes">
        <h6>SIZE :</h6>

        <!-- When an element is selected, set the `selectedSize` variable to the
             value of the "option" attribute of the selected element.  -->
        <amp-selector name="size" on="select:AMP.setState({selectedSize: event.targetOption})">
          <table>
            <tr>
              <!-- If 'XS' size is available for selected SKU, return empty string.
                   Otherwise, return 'unavailable'. -->
              <td [class]="shirts[selected.sku].sizes['XS'] ? '' : 'unavailable'">
                <div option="XS">XS</div>
              </td>
              <td [class]="shirts[selected.sku].sizes['S'] ? '' : 'unavailable'">
                <div option="S">S</div>
              </td>
              <!-- Add the ‘unavailable’ class to the next three <td> elements
                   to be consistent with the available sizes of the default SKU. -->
              <td class="unavailable"
                  [class]="shirts[selected.sku].sizes['M'] ? '' : 'unavailable'">
                <div option="M">M</div>
              </td>
              <td class="unavailable"
                  [class]="shirts[selected.sku].sizes['L'] ? '' : 'unavailable'">
                <div option="L">L</div>
              </td>
              <td class="unavailable"
                  [class]="shirts[selected.sku].sizes['XL'] ? '' : 'unavailable'">
                <div option="XL">XL</div>
              </td>
            </tr>
          </table>
        </amp-selector>
      </div>

      <div>
       <h6>DELIVERY DATE:</h6>
       <amp-date-picker type="single" mode="overlay" src="delivery.json"
      on="select:AMP.setState({tooltip: event.id == 'deal'})"
      locale="en" format="YYYY-MM-DD" show-clear-date min="2017-10-26" month-format="MMM" input-selector="#delivery">
        <input amp-date-placeholder-start placeholder="delivery" id="delivery"/>
        <template date-template id="deal" type="amp-mustache">
         {{D}}
         <span class="highlight-square"></span>
        </template>
       </amp-date-picker>
      </div>
      <div class="tooltip" [class]="'tooltip' + (tooltip ? ' tooltip-show' : '')">Great price </div>

      <div class="options quantity">
        <h6>QUANTITY :</h6>
        <select name="quantity">
          <option value="1">1</option>
          <option value="2">2</option>
          <option value="3">3</option>
        </select>
      </div>

      <div class="options purchase">
        <!-- Disable the “ADD TO CART” button when:
             1. There is no selected size, OR
             2. The available sizes for the selected SKU haven’t been fetched yet
        -->
        <input type="submit" value="ADD TO CART" disabled
            class="mdl-button mdl-button--raised mdl-button--accent"
            [disabled]="!selectedSize || !shirts[selected.sku].sizes[selectedSize]">
      </div>

      <div submit-success>
        <template type="amp-mustache">Added {{quantity}} shirt(s) to cart!</template>
      </div>
      <div submit-error>
        <template type="amp-mustache">Error adding to cart: {{error}}</template>
      </div>
    </form>
  </div>
  <amp-list src="/location-specific-results.json" width="auto" height="32" single-item items=".">
 <template type="amp-mustache">
  <p class="location"> You are in {{location}} </p>
 </template>
</amp-list>
<button id="scrollToTopButton" on="tap:top-page.scrollTo(duration=200)" class="scrollToTop mdl-color--black">⌃</button>
</body>
</html>
